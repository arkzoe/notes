# MySQL体系结构
![[体系结构.png]]
# 简介
- 存储数据、建立索引等技术实现方式。基于表，称为表类型
- 默认InnoDB
```mysql
--建表时指定
CREAT TABLE 表名(
	字段1 类型 [COMMENT 字段1注释],
	字段2 类型 [COMMENT 字段2注释],
	...       最后一个自段没逗号
)ENGINE=XXX [COMMENT 表注释];
--查询支持的引擎
SHOW ENGINES;
```
# 特点
- **InnoDB**：兼顾高性能、高可靠性，5.5之后，默认
	- DML遵循ACID模型，支持==事务==
	- ==行级锁==，提高并发访问性能
	- 支持==外键==FOREIGN KEY约束，保证数据完整性、正确性
	- 文件：xxx.ibd，每张表对应一个文件存储表的结构（frm、sdi(8.0)）、数据、索引
		- 参数：innodb_file_per_table--每个表对应一个文件
![[存储结构.png]]
- **MyISAM**：早期
	- 不支持事务，外键
	- 支持表锁，不支持行锁
	- 访问快
	- 一个表分三个文件
- **Memory**
	- 存储在内存中，作为临时表或缓存
	- hash索引

|     特点     |      InnoDB       | MyiSAM | Memory |
|:------------:|:-----------------:|:------:|:------:|
|   存储限制   |       64TB        |   有   |   有   |
|   事务安全   |       支持        |   -    |   -    |
|    锁机制    |       行锁        |  表锁  |  表锁  |
|  B+tree索引  |       支持        |  支持  |  支持  |
|   Hash索引   |         -         |        |  支持  |
|   全文索引   | 支持(5.6版本之后) |  支持  |   -    |
|   空间使用   |        高         |   低   |  N/A   |
|   内存使用   |        高         |   低   |  中等  |
| 批量插入速度 |        低         |   高   |   高   |
|   支持外键   |       支持        |   -    |   -    |

# 选择
- **InnoDB**：对事物完整性有较高要求，有很多更新删除操作
- **MyISAM**：以读和插入为主，很少更新和删除----MongoDB
- **Memory**：临时表----Redis