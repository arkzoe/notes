- 触发器是与表有关的数据库对象,指在insert/update/delete 之前或之后,触发并执行触发器中定义的SQL语句集合。触发器的这种特性可以协助应用在数据库端确保数据的完整性,日志记录,数据校验等操作
- 使用别名OLD和NEW来引用触发器中发生变化的记录内容,这与其他的数据库是相似的。现在触发器还只支持行级触发,不支持语句级触发

| 类型     | NEW和OLD                       |
| ------ | ----------------------------- |
| INSERT | NEW表示将要或者已经新增的数据              |
| UPDATE | OLD表示修改之前的数据，NEW表示将要或已经修改后的数据 |
| DELETE | OLD表示将要或已经删除的数据               |
# 语法
- **创建**
```MYSQL
CREATE TRIGGER trigger_name
BEFORE/AFTER INSERT/UPDATE/DELETE
ON tbl_name FOR EACH ROW --行级触发器
BEGIN
	trigger_stmt;
END;
```
- **查看**
```MYSQL
SHOW TRIGGER;
```
- **删除**
```MYSQL
DROP TRIGGER [schema_name.]trigger_name --schema_name不指定为当前数据库
```
```mysql
create table user_logs(
	id int(11) not null auto_increment,
	operation varchar(20) not null comment '操作类型, insert/update/delete',
	operate_time datetime not null comment '操作类型',
	operate_id int(11) not null comment '操作的ID',
	operate_params varchar(500) comment '操作参数',
	primary key('id')
)engine=innodb default charset=utf8;

create trigger tb_user_insert_trigger
	after insert on tb_user for each row
begin
	insert into user_logs(id, operation, operate_time, operate_id, operate_params) VALUES
	(null, 'insert',now(), new.id,concat('插入的数据内容为:id=',new.id...));
end:

create trigger tb_user_update_trigger
	after update on tb_user for each row
begin
	insert into user_logs(id, operation, operate_time, operate_id, operate_params) VALUES
	(null, 'insert',now(), new.id,concat('更新前的数据:id=',old.id...,
	' | 更新后的数据:id=',new.id...));
end:

create trigger tb_user_delete_trigger
	after update on tb_user for each row
begin
	insert into user_logs(id, operation, operate_time, operate_id, operate_params) VALUES
	(null, 'insert',now(), old.id,concat('删除前的数据:id=',old.id...));
end:
```